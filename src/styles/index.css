/* ============================================================================
   CSS Variables / Design Tokens
   ============================================================================ */

:root {
  /* Colors */
  --color-primary: #6366f1;
  --color-primary-hover: #4f46e5;
  --color-primary-light: #e0e7ff;

  --color-success: #10b981;
  --color-success-light: #d1fae5;
  --color-warning: #f59e0b;
  --color-warning-light: #fef3c7;
  --color-error: #ef4444;
  --color-error-light: #fee2e2;
  --color-info: #3b82f6;
  --color-info-light: #dbeafe;

  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;

  /* Spacing */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  /* Typography */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'SF Mono', Monaco, 'Cascadia Code', monospace;

  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;

  /* Borders */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);

  /* Layout */
  --header-height: 60px;
}

/* ============================================================================
   Base Styles
   ============================================================================ */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; -webkit-font-smoothing: antialiased; }
body { font-family: var(--font-sans); line-height: 1.5; color: var(--color-gray-900); background: var(--color-gray-50); }
a { color: var(--color-primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* ============================================================================
   App Shell
   ============================================================================ */

.app-shell { display: flex; flex-direction: column; min-height: 100vh; }
.app-header { display: flex; align-items: center; gap: var(--spacing-xl); height: var(--header-height); padding: 0 var(--spacing-lg); background: var(--color-gray-900); color: white; flex-shrink: 0; }
.header-brand { display: flex; align-items: center; gap: var(--spacing-sm); font-weight: 600; font-size: var(--text-lg); }
.brand-icon { font-size: var(--text-xl); }
.header-nav { display: flex; gap: var(--spacing-xs); flex: 1; }
.nav-link { display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm) var(--spacing-md); color: var(--color-gray-300); border-radius: var(--radius-md); text-decoration: none; font-size: var(--text-sm); font-weight: 500; transition: all 0.15s ease; }
.nav-link:hover { background: rgba(255,255,255,0.1); color: white; text-decoration: none; }
.nav-link.active { background: var(--color-primary); color: white; }
.header-actions { display: flex; gap: var(--spacing-sm); }
.user-menu { background: none; border: none; cursor: pointer; padding: var(--spacing-sm); border-radius: var(--radius-md); }
.user-avatar { font-size: var(--text-xl); }
.app-content { flex: 1; padding: var(--spacing-lg); overflow: auto; }

/* ============================================================================
   Page Layout
   ============================================================================ */

.page-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--spacing-lg); gap: var(--spacing-md); }
.page-header h1 { font-size: var(--text-2xl); font-weight: 600; color: var(--color-gray-900); }
.page-subtitle { color: var(--color-gray-500); font-size: var(--text-sm); margin-top: var(--spacing-xs); }
.page-header-actions { display: flex; gap: var(--spacing-sm); }
.page-breadcrumb { display: flex; align-items: center; gap: var(--spacing-sm); font-size: var(--text-sm); color: var(--color-gray-500); margin-bottom: var(--spacing-xs); }
.page-breadcrumb a { color: var(--color-gray-500); }
.page-breadcrumb a:hover { color: var(--color-primary); }

/* ============================================================================
   Cards
   ============================================================================ */

.card { background: white; border: 1px solid var(--color-gray-200); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); }
.card-header { display: flex; justify-content: space-between; align-items: center; padding: var(--spacing-md) var(--spacing-lg); border-bottom: 1px solid var(--color-gray-200); }
.card-title { font-size: var(--text-base); font-weight: 600; color: var(--color-gray-900); }
.card-actions { display: flex; gap: var(--spacing-sm); }
.card-body { padding: var(--spacing-lg); }
.card-link { font-size: var(--text-sm); }

/* ============================================================================
   Buttons
   ============================================================================ */

.btn { display: inline-flex; align-items: center; justify-content: center; gap: var(--spacing-sm); padding: var(--spacing-sm) var(--spacing-md); font-size: var(--text-sm); font-weight: 500; border-radius: var(--radius-md); border: 1px solid transparent; cursor: pointer; transition: all 0.15s ease; text-decoration: none; }
.btn:disabled { opacity: 0.5; cursor: not-allowed; }
.btn-primary { background: var(--color-primary); color: white; }
.btn-primary:hover:not(:disabled) { background: var(--color-primary-hover); }
.btn-secondary { background: white; color: var(--color-gray-700); border-color: var(--color-gray-300); }
.btn-secondary:hover:not(:disabled) { background: var(--color-gray-50); }
.btn-danger { background: var(--color-error); color: white; }
.btn-danger:hover:not(:disabled) { background: #dc2626; }
.btn-ghost { background: transparent; color: var(--color-gray-600); }
.btn-ghost:hover:not(:disabled) { background: var(--color-gray-100); }
.btn-sm { padding: var(--spacing-xs) var(--spacing-sm); font-size: var(--text-xs); }
.btn-lg { padding: var(--spacing-md) var(--spacing-lg); font-size: var(--text-base); }
.btn-spinner { width: 14px; height: 14px; border: 2px solid currentColor; border-right-color: transparent; border-radius: 50%; animation: spin 0.6s linear infinite; }

/* ============================================================================
   Forms
   ============================================================================ */

.form-field { display: flex; flex-direction: column; gap: var(--spacing-xs); }
.form-label { font-size: var(--text-sm); font-weight: 500; color: var(--color-gray-700); }
.form-input { padding: var(--spacing-sm) var(--spacing-md); font-size: var(--text-sm); border: 1px solid var(--color-gray-300); border-radius: var(--radius-md); background: white; transition: border-color 0.15s ease, box-shadow 0.15s ease; }
.form-input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 3px var(--color-primary-light); }
.form-input::placeholder { color: var(--color-gray-400); }
.has-error .form-input { border-color: var(--color-error); }
.has-error .form-input:focus { box-shadow: 0 0 0 3px var(--color-error-light); }
.form-error { font-size: var(--text-xs); color: var(--color-error); }
.form-hint { font-size: var(--text-xs); color: var(--color-gray-500); }
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--spacing-lg); margin-bottom: var(--spacing-lg); }
.form-actions { display: flex; justify-content: flex-end; gap: var(--spacing-sm); padding-top: var(--spacing-lg); border-top: 1px solid var(--color-gray-200); }
.form-card { max-width: 640px; }
.form-error-banner { padding: var(--spacing-md); background: var(--color-error-light); color: var(--color-error); border-radius: var(--radius-md); margin-bottom: var(--spacing-lg); font-size: var(--text-sm); }
.form-notice { padding: var(--spacing-md); background: var(--color-primary-light); color: var(--color-primary); border-radius: var(--radius-md); margin-bottom: var(--spacing-lg); font-size: var(--text-sm); }

/* ============================================================================
   Tables
   ============================================================================ */

.data-table { width: 100%; border-collapse: collapse; }
.data-table th, .data-table td { padding: var(--spacing-md); text-align: left; border-bottom: 1px solid var(--color-gray-200); }
.data-table th { font-size: var(--text-xs); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--color-gray-500); background: var(--color-gray-50); }
.data-table tr:hover { background: var(--color-gray-50); }
.data-table.compact th, .data-table.compact td { padding: var(--spacing-sm) var(--spacing-md); font-size: var(--text-sm); }
.table-link { font-weight: 500; }
.list-filters { display: flex; gap: var(--spacing-md); align-items: center; margin-bottom: var(--spacing-lg); flex-wrap: wrap; }

/* ============================================================================
   Status Badges
   ============================================================================ */

.status-badge { display: inline-flex; padding: 2px var(--spacing-sm); font-size: var(--text-xs); font-weight: 500; border-radius: 9999px; text-transform: capitalize; }
.badge-success { background: var(--color-success-light); color: var(--color-success); }
.badge-warning { background: var(--color-warning-light); color: #b45309; }
.badge-error { background: var(--color-error-light); color: var(--color-error); }
.badge-info { background: var(--color-info-light); color: var(--color-info); }
.badge-default { background: var(--color-gray-100); color: var(--color-gray-600); }

/* ============================================================================
   Pagination
   ============================================================================ */

.pagination { display: flex; align-items: center; justify-content: center; gap: var(--spacing-sm); margin-top: var(--spacing-lg); padding-top: var(--spacing-lg); border-top: 1px solid var(--color-gray-200); }
.pagination-pages { display: flex; gap: var(--spacing-xs); }
.pagination-page { min-width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; font-size: var(--text-sm); border: 1px solid var(--color-gray-300); border-radius: var(--radius-md); background: white; cursor: pointer; transition: all 0.15s ease; }
.pagination-page:hover { background: var(--color-gray-50); }
.pagination-page.active { background: var(--color-primary); color: white; border-color: var(--color-primary); }
.pagination-ellipsis { color: var(--color-gray-400); }

/* ============================================================================
   Loading States
   ============================================================================ */

.loading-spinner { width: 24px; height: 24px; border: 3px solid var(--color-gray-200); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 0.8s linear infinite; }
.spinner-sm { width: 16px; height: 16px; border-width: 2px; }
.spinner-lg { width: 40px; height: 40px; border-width: 4px; }
@keyframes spin { to { transform: rotate(360deg); } }
.page-loader { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: var(--spacing-md); padding: var(--spacing-2xl); color: var(--color-gray-500); }
.skeleton-line { height: 16px; background: linear-gradient(90deg, var(--color-gray-200) 25%, var(--color-gray-100) 50%, var(--color-gray-200) 75%); background-size: 200% 100%; border-radius: var(--radius-sm); animation: shimmer 1.5s infinite; }
.skeleton-card { display: flex; flex-direction: column; gap: var(--spacing-sm); padding: var(--spacing-lg); }
@keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

/* ============================================================================
   Empty & Error States
   ============================================================================ */

.empty-state, .error-state { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: var(--spacing-2xl); text-align: center; }
.empty-icon, .error-icon { font-size: 48px; margin-bottom: var(--spacing-md); }
.empty-title, .error-title { font-size: var(--text-lg); font-weight: 600; color: var(--color-gray-900); margin-bottom: var(--spacing-xs); }
.empty-description, .error-message { color: var(--color-gray-500); max-width: 360px; margin-bottom: var(--spacing-lg); }
.empty-action, .error-action { margin-top: var(--spacing-sm); }

/* ============================================================================
   Legacy Frame
   ============================================================================ */

.legacy-page { display: flex; flex-direction: column; height: calc(100vh - var(--header-height) - var(--spacing-lg) * 2); }
.legacy-notice { display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm) var(--spacing-md); background: var(--color-warning-light); color: #92400e; font-size: var(--text-sm); border-radius: var(--radius-md); margin-bottom: var(--spacing-md); flex-shrink: 0; }
.notice-icon { font-size: var(--text-lg); }
.legacy-frame-container { flex: 1; position: relative; background: white; border: 1px solid var(--color-gray-200); border-radius: var(--radius-lg); overflow: hidden; }
.legacy-frame { width: 100%; height: 100%; border: none; }
.legacy-frame-loading { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: var(--spacing-md); background: white; }
.legacy-frame-error { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: var(--spacing-md); background: white; color: var(--color-error); }

/* ============================================================================
   Dashboard
   ============================================================================ */

.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-lg); margin-bottom: var(--spacing-lg); }
.stat-card .card-body { text-align: center; }
.stat-value { font-size: var(--text-3xl); font-weight: 700; color: var(--color-gray-900); }
.stat-label { font-size: var(--text-sm); color: var(--color-gray-500); }
.dashboard-sections { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: var(--spacing-lg); }
.migration-progress { display: flex; flex-direction: column; gap: var(--spacing-md); }
.migration-item { display: flex; align-items: center; gap: var(--spacing-md); padding: var(--spacing-sm) 0; }
.migration-icon { font-size: var(--text-xl); }
.migration-info { flex: 1; }
.migration-name { display: block; font-weight: 500; }
.migration-description { display: block; font-size: var(--text-sm); color: var(--color-gray-500); }
.migration-status { font-size: var(--text-xs); font-weight: 500; padding: 2px var(--spacing-sm); border-radius: 9999px; }
.status-migrated { background: var(--color-success-light); color: var(--color-success); }
.status-legacy { background: var(--color-warning-light); color: #b45309; }
.status-in-progress { background: var(--color-info-light); color: var(--color-info); }

/* ============================================================================
   Detail Pages
   ============================================================================ */

.detail-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: var(--spacing-lg); }
.detail-list { display: grid; gap: var(--spacing-md); }
.detail-item { display: flex; flex-direction: column; gap: var(--spacing-xs); }
.detail-item dt { font-size: var(--text-xs); font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em; color: var(--color-gray-500); }
.detail-item dd { font-size: var(--text-base); color: var(--color-gray-900); }
.text-muted { color: var(--color-gray-500); font-size: var(--text-sm); }
